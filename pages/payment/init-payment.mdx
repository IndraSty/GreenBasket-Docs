# Payment Handler

Payment handler to get snap url for payment

### Endpoint

```md filename="Base URL"
http://localhost:8080
```

```md filename="Method and Endpoint"
POST /api/users/current/payment
```

```md filename="Headers"
Authorization: Bearer access_token
```

### Query Param

`order_id`: string (required)

### Responses

You will get example responses like this:

#### 200 (success)

```json filename="Response Body"
{
  "message": "Initialize payment successfully",
  "result": {
    "snap_url": "midtrans-snap-url"
  }
}
```

#### 401 (unauthorized)

```json filename="Response Body"
{
  "error": "Invalid authorization header"
}
```

#### 401 (unauthorized - expire token)

```json filename="Response Body"
{
  "error": "token is expired: token is expired by 2m19s"
}
```

#### 500 (server error)

```json filename="Response Body"
{
  "error": "Internal server error"
}
```

#### 500 (server error - failed)

If something went wrong while create `transaction` on `midtrans`

```json filename="Response Body"
{
  "error": "failed create transaction"
}
```

